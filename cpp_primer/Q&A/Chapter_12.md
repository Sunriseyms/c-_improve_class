### Chapter 12  答疑
- 答疑问题


 1. 内存分区
    a. 栈：
    由系统进行内存的管理。主要存放函数的参数以及局部变量。在函数完成执行，系统自行释放栈区内存，不需要用户管理。
    特点：
读取速度快，存储和释放的思路是按照数据结构中的栈进行的，存数据就是压栈，释放就是弹栈。
    空间小，基本类型的数据占用空间的大小不会随着值的改变而改变，而且占用空间小。
    b.堆：
    由编程人员手动申请，手动释放，若不手动释放，程序结束后由系统回收，生命周期是整个程序运行期间。使用malloc或者new进行堆的申请，堆的总大小为机器的虚拟内存的大小。
    特点：
读取速度慢。
    空间大：引用类型的数据大小是动态的，会随着数据的增加而改变大小。
    c. 全局区/静态区：
     全局/静态存储区内的变量在程序编译阶段已经分配好内存空间并初始化。这块内存在程序的整个运行期间都存在，它主要存放静态变量、全局变量和常量。
    d. 只读区：
    文字常量区：该分区是用来存放常量值，如常量字符串等，
    代码区：存放程序体的二进制代码。比如我们写的函数，都是在代码区的。
2. 为什么要用指针？
指针储存内存地址，比起变量，更加节省内存空间，执行速度更快。
![](img/chap12/pointer.PNG)
3. 为什么要用智能指针？
比起普通指针，智能指针能够保证对象不再使用时，能够自动销毁他它，释放内存。无需编程人员精心地显式销毁它。
能够避免：
   - 内存泄漏
   - 重复删除
   - 空悬指针
4.  new 和 make_shared 在内存上的区别
    - make_shared只执行一次内存申请，不会会导致内存碎片化
    - 先new后赋值的方式执行两次内存申请，可能存在内存泄漏，会导致内存碎片化
5. unique_ptr与裸指针的性能差异：
     - 相比于shared_ptr，它的时间空间开销更小，甚至可以说和裸指针相当
